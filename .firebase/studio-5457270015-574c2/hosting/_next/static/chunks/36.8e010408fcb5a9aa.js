"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[36],{13036:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ej});var a=t(95155),r=t(12115),l=t(30285),n=t(18046),d=t(75074),i=t(85977),c=t(59434);let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.bL,{ref:s,className:(0,c.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});o.displayName=i.bL.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i._V,{ref:s,className:(0,c.cn)("aspect-square h-full w-full",t),...r})}).displayName=i._V.displayName;let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.H4,{ref:s,className:(0,c.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});m.displayName=i.H4.displayName;var u=t(66695),x=t(26126),h=t(763),f=t(63920),p=t(75943),j=t(77223),g=t(37648),b=t(44838),N=t(38350),v=t(47906);let y=e=>{let{status:s}=e;switch(s){case"available":return(0,a.jsx)(x.E,{variant:"secondary",className:"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-300",children:"פנוי/ה"});case"teaching":return(0,a.jsx)(x.E,{variant:"secondary",className:"bg-orange-100 text-orange-800 dark:bg-orange-900/50 dark:text-orange-300",children:"מלמד/ת"});case"absent":return(0,a.jsx)(x.E,{variant:"destructive",children:"בחופש"});case"not_in_school":return(0,a.jsx)(x.E,{variant:"outline",children:'לא בביה"ס'});default:return(0,a.jsx)(x.E,{variant:"outline",children:"לא ידוע"})}};function w(e){let{teacher:s,onMarkAbsent:t,onEdit:r,onDelete:n,onViewSchedule:d,availabilityStatus:i}=e,c=(0,v.a)();return(0,a.jsxs)(u.Zp,{className:"flex flex-col transition-all hover:shadow-lg",children:[(0,a.jsxs)(u.aR,{className:"flex flex-row items-start gap-4",children:[(0,a.jsx)(o,{className:"h-12 w-12 border-2 border-primary/20",children:(0,a.jsx)(m,{className:"bg-primary/10 text-primary font-bold",children:s.avatar.fallback})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(u.ZB,{children:s.name}),(0,a.jsxs)("div",{className:"mt-1 text-xs text-muted-foreground",children:["מקצועות: ",s.subjects.join(", ")]})]}),(0,a.jsxs)(b.rI,{children:[(0,a.jsx)(b.ty,{asChild:!0,children:(0,a.jsxs)(l.$,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:[(0,a.jsx)(N.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"More options"})]})}),(0,a.jsxs)(b.SQ,{align:"end",children:[(0,a.jsxs)(b._2,{onClick:d,children:[(0,a.jsx)(h.A,{className:"ml-2 h-4 w-4"}),"צפה במערכת"]}),(0,a.jsxs)(b._2,{onClick:t,className:"text-amber-600 focus:text-amber-700 dark:text-amber-500 dark:focus:text-amber-600",children:[(0,a.jsx)(f.A,{className:"ml-2 h-4 w-4"}),"סמן היעדרות"]}),(0,a.jsx)(b.mB,{}),(0,a.jsxs)(b._2,{onClick:r,children:[(0,a.jsx)(p.A,{className:"ml-2 h-4 w-4"}),"עריכת פרופיל"]}),(0,a.jsx)(b.mB,{}),(0,a.jsxs)(b._2,{onClick:n,className:"text-destructive focus:text-destructive",children:[(0,a.jsx)(j.A,{className:"ml-2 h-4 w-4"}),"מחק"]})]})]})]}),(0,a.jsx)(u.Wu,{className:"flex-grow space-y-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(g.A,{className:"mt-0.5 h-5 w-5 shrink-0 text-muted-foreground"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"סטטוס נוכחי"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(y,{status:i})})]})]})}),!c&&(0,a.jsxs)(u.wL,{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(l.$,{variant:"outline",className:"w-full",onClick:d,children:[(0,a.jsx)(h.A,{className:"ml-2 h-4 w-4"}),"צפה במערכת"]}),(0,a.jsxs)(l.$,{variant:"secondary",className:"w-full",onClick:t,children:[(0,a.jsx)(f.A,{className:"ml-2 h-4 w-4 text-amber-600 dark:text-amber-500"}),(0,a.jsx)("span",{className:"text-amber-600 dark:text-amber-500",children:"סמן היעדרות"})]})]})]})}var k=t(55594),C=t(62177),A=t(90221),E=t(54165),S=t(17759),I=t(62523),z=t(88539);let R=["ראשון","שני","שלישי","רביעי","חמישי","שישי"],O=e=>{let[s,t]=e.split(":").map(Number);return s+t/60},L=(e,s)=>{if(0===e.length)return[];let t=[...e].sort((e,s)=>e-s),a=[],r=null;return t.forEach(e=>{"break"!==s[e].type&&(null===r?r={start:e,end:e}:e===r.end+1?r.end=e:(a.push({start:s[r.start].start,end:s[r.end].end}),r={start:e,end:e}))}),null!==r&&a.push({start:s[r.start].start,end:s[r.end].end}),a};function B(e){let{value:s,onChange:t,timeSlots:n}=e,[d,i]=(0,r.useState)({});(0,r.useEffect)(()=>{let e={};R.forEach(s=>{e[s]=[]}),Array.isArray(s)&&s.forEach(s=>{s.slots&&e[s.day]&&s.slots.forEach(t=>{let a=O(t.start),r=O(t.end);n.forEach((t,l)=>{if("lesson"===t.type){let d=O(t.start);if(d>=a&&d<r){var n;null==(n=e[s.day])||n.push(l)}}})})}),i(e)},[s,n]);let o=(e,s)=>{if("break"===n[s].type)return;let t={...d};t[e]||(t[e]=[]);let a=t[e],r=a.indexOf(s);r>-1?a.splice(r,1):a.push(s),u(t)},m=e=>{u({...d,[e]:[]})},u=e=>{i(e),t(Object.entries(e).map(e=>{let[s,t]=e;return{day:s,slots:L(t,n)}}))},x=n.length;return(0,a.jsxs)("div",{className:"flex flex-col gap-2",dir:"rtl",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_auto] gap-x-2",children:[(0,a.jsx)("div",{className:"grid text-center text-xs text-muted-foreground",style:{gridTemplateColumns:"repeat(".concat(x,", minmax(0, 1fr))")},children:n.map(e=>(0,a.jsx)("div",{children:e.start},e.id))}),(0,a.jsx)("div",{className:"w-24"})]}),R.map(e=>(0,a.jsxs)("div",{className:"grid grid-cols-[1fr_auto] items-center gap-x-2",children:[(0,a.jsx)("div",{className:"grid gap-px bg-border rounded-md overflow-hidden",style:{gridTemplateColumns:"repeat(".concat(x,", minmax(0, 1fr))")},dir:"ltr",children:n.map((s,t)=>{var r;let l=null==(r=d[e])?void 0:r.includes(t),n="break"===s.type;return(0,a.jsx)("div",{onClick:()=>o(e,t),className:(0,c.cn)("h-7 w-full transition-colors",n?"bg-muted/50 cursor-not-allowed":"cursor-pointer",!n&&(l?"bg-primary":"bg-card hover:bg-secondary"))},"".concat(e,"-").concat(s.id))})}),(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 w-24",children:[(0,a.jsx)("span",{className:"font-semibold text-sm",children:e}),(0,a.jsx)(l.$,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>m(e),children:(0,a.jsx)(j.A,{className:"h-3.5 w-3.5 text-muted-foreground"})})]})]},e))]})}var M=t(25318);function _(e){let{value:s,onChange:t,placeholder:l}=e,[n,d]=(0,r.useState)(""),i=e=>{t(s.filter(s=>s!==e))};return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:s.map(e=>(0,a.jsxs)(x.E,{variant:"secondary",children:[e,(0,a.jsx)("button",{type:"button",className:"mr-1 p-0.5 rounded-full hover:bg-muted-foreground/20",onClick:()=>i(e),children:(0,a.jsx)(M.A,{className:"h-3 w-3"})})]},e))}),(0,a.jsx)(I.p,{value:n,onChange:e=>d(e.target.value),onKeyDown:e=>{"Enter"===e.key&&n.trim()&&(e.preventDefault(),t([...s,n.trim()]),d(""))},placeholder:l})]})}var J=t(66424);let $=k.z.object({day:k.z.string(),slots:k.z.array(k.z.object({start:k.z.string(),end:k.z.string()}))}),D=k.z.object({name:k.z.string().min(2,{message:"השם חייב להכיל לפחות 2 תווים."}),subjects:k.z.array(k.z.string()).min(1,{message:"אנא הזן לפחות מקצוע אחד."}),availability:k.z.array($).min(1,{message:"אנא ציין שעות נוכחות."}),preferences:k.z.string().optional()}),P=[{day:"ראשון",slots:[]},{day:"שני",slots:[]},{day:"שלישי",slots:[]},{day:"רביעי",slots:[]},{day:"חמישי",slots:[]},{day:"שישי",slots:[]}];function T(e){let{isOpen:s,onOpenChange:t,onAddTeacher:n,onEditTeacher:d,teacherToEdit:i,timeSlots:c}=e,o=!!i,m=(0,C.mN)({resolver:(0,A.u)(D),defaultValues:{name:"",subjects:[],availability:P,preferences:""}});(0,r.useEffect)(()=>{s&&(o&&i?m.reset({name:i.name,subjects:i.subjects,availability:i.availability.length>0?i.availability:P,preferences:i.preferences||""}):m.reset({name:"",subjects:[],availability:P,preferences:""}))},[s,o,i,m]);let u=e=>{let s={name:e.name,subjects:e.subjects,availability:e.availability,preferences:e.preferences};o&&i?d({...s,id:i.id}):n(s),t(!1)};return(0,a.jsx)(E.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(E.Cf,{className:"sm:max-w-3xl",children:[(0,a.jsxs)(E.c7,{children:[(0,a.jsx)(E.L3,{children:o?"עריכת פרופיל מורה":"יצירת פרופיל מורה"}),(0,a.jsx)(E.rr,{children:o?"עדכן את פרטי המורה. לחץ על שמירה בסיום.":"הוסף מורה חדש למערכת. לחץ על שמירה בסיום."})]}),(0,a.jsx)(J.F,{className:"max-h-[70vh] pr-6 -mr-6",children:(0,a.jsx)(S.lV,{...m,children:(0,a.jsxs)("form",{onSubmit:m.handleSubmit(u),className:"space-y-4 py-4 pr-1",children:[(0,a.jsx)(S.zB,{control:m.control,name:"name",render:e=>{let{field:s}=e;return(0,a.jsxs)(S.eI,{children:[(0,a.jsx)(S.lR,{children:"שם מלא"}),(0,a.jsx)(S.MJ,{children:(0,a.jsx)(I.p,{placeholder:"למשל, ישראלה ישראלי",...s})}),(0,a.jsx)(S.C5,{})]})}}),(0,a.jsx)(S.zB,{control:m.control,name:"subjects",render:e=>{let{field:s}=e;return(0,a.jsxs)(S.eI,{children:[(0,a.jsx)(S.lR,{children:"מקצועות לימוד"}),(0,a.jsx)(S.MJ,{children:(0,a.jsx)(_,{...s,placeholder:"הקש 'Enter' להוספת מקצוע..."})}),(0,a.jsx)(S.C5,{})]})}}),(0,a.jsx)(S.zB,{control:m.control,name:"availability",render:e=>{let{field:s}=e;return(0,a.jsxs)(S.eI,{children:[(0,a.jsx)(S.lR,{children:"שעות נוכחות שבועיות"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"סמן את כל השעות בהן המורה נוכח/ת בבית הספר, כולל שיעורים קבועים והפסקות."}),(0,a.jsx)(S.MJ,{children:(0,a.jsx)(B,{...s,timeSlots:c})}),(0,a.jsx)(S.C5,{})]})}}),(0,a.jsx)(S.zB,{control:m.control,name:"preferences",render:e=>{let{field:s}=e;return(0,a.jsxs)(S.eI,{children:[(0,a.jsx)(S.lR,{children:"העדפות (אופציונלי)"}),(0,a.jsx)(S.MJ,{children:(0,a.jsx)(z.T,{placeholder:"למשל, מעדיף/ה כיתות קטנות",...s})}),(0,a.jsx)(S.C5,{})]})}})]})})}),(0,a.jsx)(E.Es,{className:"pt-4 border-t",children:(0,a.jsx)(l.$,{type:"button",onClick:m.handleSubmit(u),children:o?"שמור שינויים":"שמור פרופיל"})})]})})}var G=t(87481),U=t(90010),H=t(91950),Z=t(59409),V=t(14636),F=t(12023),q=t(86578),W=t(22346),Y=t(77324),K=t(79233),Q=t(80644),X=t(70831),ee=t(76959),es=t(83013),et=t(4884);let ea=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(et.bL,{className:(0,c.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:s,children:(0,a.jsx)(et.zi,{className:(0,c.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0","rtl:data-[state=checked]:-translate-x-5 rtl:data-[state=unchecked]:translate-x-0")})})});ea.displayName=et.bL.displayName;var er=t(85057);let el=e=>{let s=(0,K.P)(e);if(6===s)return(0,Q.o)((0,X.f)(e,1));let t=e.getDate()-s;return(0,Q.o)(new Date(new Date(e).setDate(t)))},en=e=>{if(!e||!e.includes(":"))return 0;let[s,t]=e.split(":").map(Number);return s+t/60};function ed(e){let{day:s,time:t,lessons:n,onSave:d,teacher:i,allClasses:o,isAbsent:m,onToggleAbsence:u}=e,[h,f]=(0,r.useState)(!1),p=Array.isArray(n)?n:[],j=p.filter(e=>e.majorId),[g,b]=(0,r.useState)([]),[N,v]=(0,r.useState)(""),[y,w]=(0,r.useState)(null);(0,r.useEffect)(()=>{h&&(b(p.filter(e=>!e.majorId)),v(""),w(null))},[p,h]);let k=(0,r.useMemo)(()=>i.subjects.map(e=>({label:e,value:e})),[i.subjects]),C=e=>{b(s=>s.filter((s,t)=>t!==e))},A=N&&y;return(0,a.jsxs)(V.AM,{open:h,onOpenChange:f,children:[(0,a.jsx)(V.Wv,{asChild:!0,children:(0,a.jsxs)("div",{className:(0,c.cn)("w-full h-full p-1 flex flex-col justify-start items-center text-center cursor-pointer min-h-[6rem] transition-colors rounded-md gap-1 overflow-y-auto",m&&"bg-destructive/10",p.length>0?"bg-primary/5 hover:bg-primary/10":"bg-card hover:bg-muted",m&&p.length>0&&"bg-destructive/20 hover:bg-destructive/30"),children:[0===p.length&&(0,a.jsx)("span",{className:"text-muted-foreground text-xs mt-2",children:"ריקה"}),m&&(0,a.jsx)(x.E,{variant:"destructive",className:"mt-1 mb-1",children:"נעדר/ת"}),p.map((e,s)=>{let t=o.find(s=>s.id===e.classId);return(0,a.jsxs)("div",{className:(0,c.cn)("w-full p-1 rounded text-xs border",e.majorId?"bg-amber-100 border-amber-200 dark:bg-amber-900/30 dark:border-amber-800":"bg-background border-border"),children:[(0,a.jsx)("p",{className:"font-bold truncate",children:e.subject}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground truncate",children:null==t?void 0:t.name}),e.majorId&&(0,a.jsx)(x.E,{variant:"secondary",className:"text-[8px] h-3 px-1 mt-0.5",children:"מגמה"})]},s)})]})}),(0,a.jsx)(V.hl,{className:"w-80",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h4",{className:"font-semibold",children:"עריכת שיבוץ"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[i.name," - ",s,", ",t]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 space-x-reverse justify-center p-2 bg-muted/50 rounded-md",children:[(0,a.jsx)(er.J,{htmlFor:"absence-toggle-".concat(s,"-").concat(t),className:"font-normal",children:"סמן כנעדר/ת"}),(0,a.jsx)(ea,{id:"absence-toggle-".concat(s,"-").concat(t),checked:m,onCheckedChange:u})]}),j.length>0&&(0,a.jsxs)("div",{className:"bg-muted p-2 rounded-md text-xs space-y-1",children:[(0,a.jsx)("p",{className:"font-medium",children:"שיעורי מגמה (לא ניתן לערוך כאן):"}),j.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:e.subject}),(0,a.jsx)("span",{className:"text-muted-foreground",children:null==(t=o.find(s=>s.id===e.classId))?void 0:t.name})]},s)})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-muted-foreground",children:"שיעורים רגילים:"}),0===g.length?(0,a.jsx)("p",{className:"text-xs text-muted-foreground italic text-center py-2",children:"אין שיעורים רגילים"}):(0,a.jsx)("div",{className:"space-y-2",children:g.map((e,s)=>{var t;return(0,a.jsxs)("div",{className:"flex items-center justify-between bg-secondary/30 p-2 rounded-md text-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.subject}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:null==(t=o.find(s=>s.id===e.classId))?void 0:t.name})]}),(0,a.jsx)(l.$,{variant:"ghost",size:"icon",className:"h-6 w-6 text-muted-foreground hover:text-destructive",onClick:()=>C(s),children:(0,a.jsx)(M.A,{className:"h-3 w-3"})})]},s)})})]}),(0,a.jsx)(W.w,{}),(0,a.jsxs)("div",{className:"space-y-3 bg-muted/30 p-2 rounded-md",children:[(0,a.jsx)("p",{className:"text-xs font-medium",children:"הוספת שיעור:"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(Y.G,{items:k,value:N,onChange:e=>{v(e),w(null)},placeholder:"בחר מקצוע...",searchPlaceholder:"חיפוש...",noItemsMessage:"לא נמצא"}),(0,a.jsxs)(Z.l6,{onValueChange:w,value:y||"",disabled:!N,children:[(0,a.jsx)(Z.bq,{className:"h-9",children:(0,a.jsx)(Z.yv,{placeholder:"בחר כיתה"})}),(0,a.jsx)(Z.gC,{children:o.map(e=>(0,a.jsx)(Z.eb,{value:e.id,children:e.name},e.id))})]}),(0,a.jsxs)(l.$,{size:"sm",variant:"secondary",className:"w-full h-8",onClick:()=>{N&&y&&(b(e=>[...e,{subject:N,teacherId:i.id,classId:y}]),v(""),w(null))},disabled:!A,children:[(0,a.jsx)(F.A,{className:"w-3 h-3 mr-2"}),"הוסף לשיבוץ"]})]})]}),(0,a.jsx)(W.w,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(l.$,{variant:"ghost",size:"sm",onClick:()=>{d(s,t,[...j]),f(!1)},className:"text-destructive hover:text-destructive text-xs",children:"נקה הכל"}),(0,a.jsx)(l.$,{size:"sm",onClick:()=>{let e=[...j,...g];N&&y&&e.push({subject:N,teacherId:i.id,classId:y}),d(s,t,e),f(!1)},children:"שמור שינויים"})]})]})})]})}function ei(e){let{isOpen:s,onOpenChange:t,teacher:n,allClasses:d,timeSlots:i,onUpdateSchedule:o,onUpdateAbsences:m}=e,[u,h]=(0,r.useState)({}),[f,p]=(0,r.useState)([]);(0,r.useEffect)(()=>{n&&(h(JSON.parse(JSON.stringify(n.schedule||{}))),p(JSON.parse(JSON.stringify(n.absences||[]))))},[n]);let j=(0,r.useMemo)(()=>el(new Date),[]);if(!n)return null;let g=(e,s,t)=>{h(a=>{let r={...a};return r[e]||(r[e]={}),r[e][s]=t,r})},b=(e,s,t)=>{let a=H.B.indexOf(e),r=(0,X.f)(j,a),l="absence-".concat(r.toISOString(),"-").concat(s.start);if(t){if(!f.some(e=>e.id===l)){let e={id:l,date:r.toISOString(),isAllDay:!1,startTime:s.start,endTime:s.end};p(s=>[...s,e])}}else p(e=>e.filter(e=>e.id!==l))},N=(e,s)=>{if(0===f.length)return!1;let t=H.B.indexOf(e),a=(0,X.f)(j,t),r=f.filter(e=>{try{return(0,ee.r)((0,Q.o)(new Date(e.date)),(0,Q.o)(a))}catch(e){return!1}});if(0===r.length)return!1;let l=en(s);return r.some(e=>{if(e.isAllDay)return!0;let s=en(e.startTime),t=en(e.endTime);return l>=s&&l<t})};return(0,a.jsx)(E.lG,{open:s,onOpenChange:t,children:(0,a.jsxs)(E.Cf,{className:"max-w-7xl w-full flex flex-col max-h-[90vh]",children:[(0,a.jsxs)(E.c7,{children:[(0,a.jsxs)(E.L3,{children:["מערכת שעות: ",n.name]}),(0,a.jsx)(E.rr,{children:"כאן ניתן לצפות ולערוך את מערכת השעות האישית של המורה, ולסמן היעדרויות."})]}),(0,a.jsx)("div",{className:"flex-grow relative overflow-auto",children:(0,a.jsxs)(J.F,{className:"absolute inset-0",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm text-center table-fixed min-w-[900px]",children:[(0,a.jsx)("thead",{className:"bg-muted/40",children:(0,a.jsxs)("tr",{className:"bg-muted/40",children:[(0,a.jsx)("th",{className:"sticky left-0 top-0 bg-muted/40 p-2 w-40 z-20",children:"שעה"}),H.B.map((e,s)=>{let t=(0,X.f)(j,s);return(0,a.jsxs)("th",{className:"sticky top-0 bg-muted/40 p-2 min-w-[140px]",children:[(0,a.jsx)("div",{children:e}),(0,a.jsx)("div",{className:"font-normal text-xs text-muted-foreground",children:(0,es.GP)(t,"dd/MM")})]},e)})]})}),(0,a.jsx)("tbody",{children:i.map(e=>(0,a.jsxs)("tr",{className:"border-t",children:[(0,a.jsxs)("td",{className:"sticky left-0 font-semibold bg-card p-2 w-40 z-10 text-center",children:[(0,a.jsxs)("div",{children:[e.start," - ",e.end]}),"break"===e.type&&(0,a.jsx)(x.E,{variant:"outline",className:"mt-1",children:"הפסקה"})]}),H.B.map(s=>{var t;let r=(null==u||null==(t=u[s])?void 0:t[e.start])||[],l="break"===e.type,i=N(s,e.start);return(0,a.jsx)("td",{className:(0,c.cn)("p-0 align-top border-r",l&&"bg-muted/30"),children:l?(0,a.jsxs)("div",{className:(0,c.cn)("p-1.5 h-full min-h-[6rem] flex flex-col justify-center",i&&"bg-destructive/10"),children:[(0,a.jsx)(q.A,{className:"w-5 h-5 mx-auto text-muted-foreground"}),i&&(0,a.jsx)(x.E,{variant:"destructive",className:"mt-2",children:"נעדר/ת"})]}):(0,a.jsx)(ed,{day:s,time:e.start,lessons:r,onSave:g,teacher:n,allClasses:d,isAbsent:i,onToggleAbsence:t=>b(s,e,t)})},"".concat(s,"-").concat(e.start))})]},e.id))})]})}),(0,a.jsx)(J.$,{orientation:"horizontal"})]})}),(0,a.jsxs)(E.Es,{className:"shrink-0 pt-4 border-t mt-4",children:[(0,a.jsx)(l.$,{onClick:()=>{o(n.id,u),m(n.id,f),t(!1)},children:"שמור שינויים"}),(0,a.jsx)(E.HM,{asChild:!0,children:(0,a.jsx)(l.$,{type:"button",variant:"secondary",children:"סגור"})})]})]})})}var ec=t(19599),eo=t(35317),em=t(23769),eu=t(97714),ex=t(40610),eh=t(3310),ef=t(40688),ep=t(50172);function ej(e){let{onMarkAbsent:s}=e,{toast:t}=(0,G.dj)(),{user:i}=(0,ec.useUser)(),c=(0,ec.useFirestore)(),[o,m]=(0,r.useState)(!1),[x,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(null),[j,g]=(0,r.useState)(null),[b,N]=(0,r.useState)(""),v=(0,ec.useMemoFirebase)(()=>i?(0,eo.P)((0,eo.rJ)(c,"teachers"),(0,eo._M)("userId","==",i.uid)):null,[i,c]),{data:y,isLoading:k}=(0,em.G)(v),C=y||[],A=(0,ec.useMemoFirebase)(()=>i?(0,eo.P)((0,eo.rJ)(c,"classes"),(0,eo._M)("userId","==",i.uid)):null,[i,c]),{data:E}=(0,em.G)(A),S=(0,ec.useMemoFirebase)(()=>i?(0,eo.P)((0,eo.rJ)(c,"settings"),(0,eo._M)("userId","==",i.uid)):null,[i,c]),{data:z}=(0,em.G)(S),R=(0,r.useMemo)(()=>{if(z){let e=z.find(e=>e.id==="timetable_".concat(null==i?void 0:i.uid));if(e)return e.slots||[]}return[]},[z,i]),O=(0,r.useMemo)(()=>{let e=new Map,s=new Date;return(C||[]).forEach(t=>{e.set(t.id,(0,ef.ax)(t,s,R))}),e},[C,R]),L=async e=>{if(!c||!i)return;let s=(0,eo.H9)((0,eo.rJ)(c,"teachers")),a=e.name.split(" ").map(e=>e[0]).join("").toUpperCase(),r={...e,id:s.id,userId:i.uid,avatar:{fallback:a},schedule:{},absences:[]},l=(0,eo.wP)(c);l.set(s,r),await (0,eu.j)(l,{operation:"create",path:s.path,data:r}),t({title:"פרופיל מורה נוצר",description:"הפרופיל של ".concat(e.name," נוסף למערכת.")})},B=async e=>{if(!c||!i)return;let s=(0,eo.H9)(c,"teachers",e.id),a=(0,eo.wP)(c);a.update(s,{...e}),await (0,eu.j)(a,{operation:"update",path:s.path,data:e}),h(null),t({title:"פרופיל עודכן",description:"הפרופיל של ".concat(e.name," עודכן.")})},M=async()=>{if(!c||!i||!f)return;let e=f.id,s=(0,eo.wP)(c);try{let a=(0,eo.H9)(c,"teachers",e);if(!(await (0,eo.x7)(a)).exists())return;s.update(a,{schedule:{}}),(await (0,eo.GG)((0,eo.P)((0,eo.rJ)(c,"classes"),(0,eo._M)("userId","==",i.uid)))).forEach(t=>{let a={id:t.id,...t.data()},r=!1,l=JSON.parse(JSON.stringify(a.schedule||{}));if(Object.keys(l).forEach(s=>{l[s]&&(Object.keys(l[s]).forEach(t=>{var a;let n=null==(a=l[s])?void 0:a[t];if(Array.isArray(n)){let a=n.length;l[s][t]=n.filter(s=>s.teacherId!==e),l[s][t].length!==a&&(r=!0),0===l[s][t].length&&delete l[s][t]}}),0===Object.keys(l[s]).length&&delete l[s])}),r){let e=(0,eo.H9)(c,"classes",a.id);s.update(e,{schedule:l})}}),s.delete(a),await (0,eu.j)(s,{operation:"delete",path:"teachers/".concat(e," and related classes")}),t({variant:"destructive",title:"המורה נמחק",description:"הפרופיל של ".concat(f.name," וכל השיבוצים שלו הוסרו מהמערכת.")})}catch(s){if(!(s instanceof ex.$)){let s=new ex.$({operation:"delete",path:"teachers/".concat(e," and related classes")});throw eh.d.emit("permission-error",s),s}throw s}finally{p(null)}},_=async(e,s)=>{if(!c||!i)return;let t=(0,eo.wP)(c);try{let a=(0,eo.H9)(c,"teachers",e),r=await (0,eo.x7)(a);if(!r.exists())return;let l=r.data().schedule||{};t.update(a,{schedule:s});let n=new Set;for(let e of[l,s])Object.values(e||{}).forEach(e=>Object.values(e||{}).forEach(e=>{Array.isArray(e)&&e.forEach(e=>{(null==e?void 0:e.classId)&&!e.majorId&&n.add(e.classId)})}));for(let a of n){let r=(0,eo.H9)(c,"classes",a),n=await (0,eo.x7)(r);if(!n.exists())continue;let d=n.data(),i=JSON.parse(JSON.stringify(d.schedule||{}));["ראשון","שני","שלישי","רביעי","חמישי","שישי"].forEach(t=>{(R||[]).forEach(r=>{var n,d,c;let o=r.start,m=(null==(n=l[t])?void 0:n[o])||[],u=(null==(d=s[t])?void 0:d[o])||[],x=Array.isArray(m)?m.filter(e=>!e.majorId):[],h=Array.isArray(u)?u.filter(e=>!e.majorId):[],f=x.find(e=>e.classId===a),p=h.find(e=>e.classId===a);if(f&&!p){let s=(null==(c=i[t])?void 0:c[o])||[];Array.isArray(s)&&(i[t][o]=s.filter(s=>s.teacherId!==e),0===i[t][o].length&&delete i[t][o])}if(p){i[t]=i[t]||{};let s=i[t][o]||[],a=Array.isArray(s)?s.filter(s=>s.teacherId!==e):[];i[t][o]=[...a,{...p,teacherId:e}]}})}),t.update(r,{schedule:i})}await (0,eu.j)(t,{operation:"update",path:"teachers/".concat(e),data:{schedule:s}})}catch(t){if(!(t instanceof ex.$)){let t=new ex.$({operation:"update",path:"teachers/".concat(e),requestResourceData:{schedule:s}});throw eh.d.emit("permission-error",t),t}throw t}},J=async(e,s)=>{if(!c)return;let t=(0,eo.H9)(c,"teachers",e),a=(0,eo.wP)(c);a.update(t,{absences:s}),await (0,eu.j)(a,{operation:"update",path:t.path,data:{absences:"..."}})},$=e=>{h(e),m(!0)},D=(C||[]).filter(e=>e.name.toLowerCase().includes(b.toLowerCase()));return k?(0,a.jsx)("div",{className:"p-4 flex justify-center",children:(0,a.jsx)(ep.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)(u.Zp,{className:"mt-6 border-none shadow-none",children:[(0,a.jsx)(u.aR,{children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(u.ZB,{className:"text-xl font-bold",children:"פרופילי מורים"}),(0,a.jsx)(u.BT,{children:"ניהול מורים מחליפים וסימון היעדרויות."})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[(0,a.jsxs)(l.$,{onClick:()=>{h(null),m(!0)},className:"shrink-0",children:[(0,a.jsx)(n.A,{className:"me-2 h-4 w-4"}),"יצירת פרופיל"]}),(0,a.jsxs)("div",{className:"relative flex-grow w-full sm:w-auto",children:[(0,a.jsx)(d.A,{className:"absolute right-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(I.p,{type:"search",placeholder:"חיפוש מורה...",className:"w-full pr-9",value:b,onChange:e=>N(e.target.value)})]})]})]})}),(0,a.jsxs)(u.Wu,{children:[(0,a.jsx)(U.Lt,{open:!!f,onOpenChange:e=>!e&&p(null),children:(0,a.jsxs)(U.EO,{children:[(0,a.jsxs)(U.wd,{children:[(0,a.jsx)(U.r7,{children:"האם אתה בטוח?"}),(0,a.jsxs)(U.$v,{children:["פעולה זו תמחק את הפרופיל של $",null==f?void 0:f.name," לצמיתות ותסיר אותו/ה מכל מערכות השעות. לא ניתן לבטל את הפעולה."]})]}),(0,a.jsxs)(U.ck,{children:[(0,a.jsx)(U.Zr,{children:"ביטול"}),(0,a.jsx)(U.Rx,{className:(0,l.r)({variant:"destructive"}),onClick:M,children:"מחק"})]})]})}),(C||[]).length>0?D.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:D.map(e=>(0,a.jsx)(w,{teacher:e,onMarkAbsent:()=>s(e),onEdit:()=>$(e),onDelete:()=>p(e),onViewSchedule:()=>g(e),availabilityStatus:O.get(e.id)||"unknown"},e.id))}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-border p-12 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"לא נמצאו מורים תואמים"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"נסה מונח חיפוש אחר."})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-border p-12 text-center",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"לא נמצאו מורים"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"התחל על ידי יצירת פרופיל מורה חדש."})]})]}),(0,a.jsx)(T,{isOpen:o,onOpenChange:()=>{m(!1),h(null)},onAddTeacher:L,onEditTeacher:B,teacherToEdit:x,timeSlots:R}),(0,a.jsx)(ei,{isOpen:!!j,onOpenChange:e=>!e&&g(null),teacher:j,allClasses:E||[],timeSlots:R,onUpdateSchedule:_,onUpdateAbsences:J})]})}},14636:(e,s,t)=>{t.d(s,{AM:()=>d,Wv:()=>i,hl:()=>c});var a=t(95155),r=t(12115),l=t(98176),n=t(59434);let d=l.bL,i=l.l9,c=r.forwardRef((e,s)=>{let{className:t,align:r="center",sideOffset:d=4,...i}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{ref:s,align:r,sideOffset:d,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...i})})});c.displayName=l.UC.displayName},59409:(e,s,t)=>{t.d(s,{bq:()=>u,eb:()=>p,gC:()=>f,l6:()=>o,yv:()=>m});var a=t(95155),r=t(12115),l=t(43433),n=t(79556),d=t(77381),i=t(10518),c=t(59434);let o=l.bL;l.YJ;let m=l.WT,u=r.forwardRef((e,s)=>{let{className:t,children:r,...d}=e;return(0,a.jsxs)(l.l9,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...d,children:[r,(0,a.jsx)(l.In,{asChild:!0,children:(0,a.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=l.l9.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.PP,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(d.A,{className:"h-4 w-4"})})});x.displayName=l.PP.displayName;let h=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wn,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})});h.displayName=l.wn.displayName;let f=r.forwardRef((e,s)=>{let{className:t,children:r,position:n="popper",...d}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsxs)(l.UC,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...d,children:[(0,a.jsx)(x,{}),(0,a.jsx)(l.LM,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(h,{})]})})});f.displayName=l.UC.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.JU,{ref:s,className:(0,c.cn)("py-1.5 pr-8 pl-2 text-sm font-semibold",t),...r})}).displayName=l.JU.displayName;let p=r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(l.q7,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(l.VF,{children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})}),(0,a.jsx)(l.p4,{children:r})]})});p.displayName=l.q7.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.wv,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=l.wv.displayName},77324:(e,s,t)=>{t.d(s,{G:()=>g});var a=t(95155),r=t(12115),l=t(21887),n=t(10518),d=t(59434),i=t(30285),c=t(77740),o=t(75074);t(54165);let m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.uB,{ref:s,className:(0,d.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...r})});m.displayName=c.uB.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,a.jsx)(o.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,a.jsx)(c.uB.Input,{ref:s,className:(0,d.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...r})]})});u.displayName=c.uB.Input.displayName;let x=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.uB.List,{ref:s,className:(0,d.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...r})});x.displayName=c.uB.List.displayName;let h=r.forwardRef((e,s)=>(0,a.jsx)(c.uB.Empty,{ref:s,className:"py-6 text-center text-sm",...e}));h.displayName=c.uB.Empty.displayName;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.uB.Group,{ref:s,className:(0,d.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...r})});f.displayName=c.uB.Group.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.uB.Separator,{ref:s,className:(0,d.cn)("-mx-1 h-px bg-border",t),...r})}).displayName=c.uB.Separator.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(c.uB.Item,{ref:s,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50",t),...r})});p.displayName=c.uB.Item.displayName;var j=t(14636);function g(e){var s,t;let{items:c,value:o,onChange:g,placeholder:b,searchPlaceholder:N,noItemsMessage:v}=e,[y,w]=r.useState(!1),[k,C]=r.useState(c),[A,E]=r.useState("");r.useEffect(()=>{C(c)},[c]);let S=e=>{g(e===o?"":e),w(!1)};return(0,a.jsxs)(j.AM,{open:y,onOpenChange:e=>{w(e),e||(C(c),E(""))},children:[(0,a.jsx)(j.Wv,{asChild:!0,children:(0,a.jsxs)(i.$,{variant:"outline",role:"combobox","aria-expanded":y,className:"w-full justify-between",children:[o?null!=(t=null==(s=c.find(e=>e.value===o))?void 0:s.label)?t:o:b,(0,a.jsx)(l.A,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,a.jsx)(j.hl,{className:"w-[--radix-popover-trigger-width] p-0",children:(0,a.jsxs)(m,{children:[(0,a.jsx)(u,{placeholder:N,value:A,onValueChange:e=>{if(E(e),e&&!c.some(s=>s.value.toLowerCase()===e.toLowerCase())){let s=c.filter(s=>s.label.toLowerCase().includes(e.toLowerCase()));C([{label:'הוסף "'.concat(e,'"'),value:e},...s])}else{let s=c.filter(s=>s.label.toLowerCase().includes(e.toLowerCase()));C(s.length>0?s:c)}},onBlur:()=>{A&&!c.some(e=>e.value.toLowerCase()===A.toLowerCase())&&g(A),E("")}}),(0,a.jsxs)(x,{children:[(0,a.jsx)(h,{children:v}),(0,a.jsx)(f,{children:k.map(e=>(0,a.jsxs)(p,{value:e.value,onSelect:S,children:[(0,a.jsx)(n.A,{className:(0,d.cn)("ml-2 h-4 w-4",o===e.value?"opacity-100":"opacity-0")}),e.label]},e.value))})]})]})})]})}},88539:(e,s,t)=>{t.d(s,{T:()=>n});var a=t(95155),r=t(12115),l=t(59434);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});n.displayName="Textarea"},90010:(e,s,t)=>{t.d(s,{$v:()=>p,EO:()=>u,Lt:()=>i,Rx:()=>j,Zr:()=>g,ck:()=>h,r7:()=>f,tv:()=>c,wd:()=>x});var a=t(95155),r=t(12115),l=t(62278),n=t(59434),d=t(30285);let i=l.bL,c=l.l9,o=l.ZL,m=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s})});m.displayName=l.hJ.displayName;let u=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(m,{}),(0,a.jsx)(l.UC,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});u.displayName=l.UC.displayName;let x=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-right",s),...t})};x.displayName="AlertDialogHeader";let h=e=>{let{className:s,...t}=e;return(0,a.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-start sm:gap-2",s),...t})};h.displayName="AlertDialogFooter";let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.hE,{ref:s,className:(0,n.cn)("text-lg font-semibold",t),...r})});f.displayName=l.hE.displayName;let p=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.VY,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});p.displayName=l.VY.displayName;let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.rc,{ref:s,className:(0,n.cn)((0,d.r)(),t),...r})});j.displayName=l.rc.displayName;let g=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(l.ZD,{ref:s,className:(0,n.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});g.displayName=l.ZD.displayName}}]);