"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{54943:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(95155),r=a(12115),l=a(66695),n=a(30285),c=a(98328),d=a(63920);let i=(0,a(40157).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var m=a(34548),x=a(65119),o=a(83013),h=a(76959),u=a(46375),p=a(8246),g=a(59434);function y(e){let{teachers:s,classes:a,substitutions:y,timeSlots:j,onAssignSubstitute:b}=e,f=(0,r.useMemo)(()=>{let e=new Date;return{start:(0,m.k)(e,{weekStartsOn:0}),end:(0,x.$)(e,{weekStartsOn:0})}},[]),N=(0,p.o)({teachers:s,classes:a,substitutions:y,timeSlots:j,dateRange:f}),k=(0,r.useMemo)(()=>N.filter(e=>!e.isCovered).sort((e,s)=>e.date.getTime()-s.date.getTime()||e.time.localeCompare(s.time)),[N]),w=(0,r.useMemo)(()=>{let e={};return k.forEach(s=>{let a=(0,o.GP)(s.date,"yyyy-MM-dd");e[a]||(e[a]=[]),e[a].push(s)}),e},[k]);return 0===k.length?null:(0,t.jsxs)(l.Zp,{className:"border-l-4 border-l-orange-500 shadow-md",children:[(0,t.jsxs)(l.aR,{className:"pb-3",children:[(0,t.jsxs)(l.ZB,{className:"text-xl flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"text-orange-500 h-5 w-5"}),"שיעורים הדורשים החלפה השבוע"]}),(0,t.jsx)(l.BT,{children:"רשימת השיעורים שעדיין לא נמצא להם מחליף לשבוע הקרוב."})]}),(0,t.jsx)(l.Wu,{children:(0,t.jsx)("div",{className:"space-y-6",children:Object.entries(w).map(e=>{let[s,a]=e,r=new Date(s),l=new Date(r.valueOf()+60*r.getTimezoneOffset()*1e3),c=(0,h.r)(l,new Date);return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("h3",{className:(0,g.cn)("font-semibold text-sm flex items-center gap-2 sticky top-0 bg-background/95 backdrop-blur py-2 z-10",c?"text-orange-600":"text-muted-foreground"),children:[(0,t.jsx)("span",{className:"w-2 h-2 rounded-full bg-current"}),(0,o.GP)(l,"EEEE, d בMMMM",{locale:u.he}),c&&(0,t.jsx)("span",{className:"text-xs bg-orange-100 text-orange-700 px-2 py-0.5 rounded-full mr-2",children:"היום"})]}),(0,t.jsx)("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",children:a.map((e,a)=>(0,t.jsxs)("div",{className:"flex flex-col p-3 bg-secondary/30 rounded-lg border hover:bg-secondary/50 transition-colors",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("span",{className:"font-medium text-sm sm:text-base",children:e.className}),(0,t.jsx)("span",{className:"text-xs font-mono bg-background px-1.5 py-0.5 rounded border",children:e.time})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mb-3",children:[(0,t.jsx)("div",{className:"line-clamp-1",children:e.subject}),(0,t.jsxs)("div",{className:"text-xs mt-1 flex items-center gap-1",children:[(0,t.jsx)(d.A,{className:"h-3 w-3 shrink-0"}),(0,t.jsx)("span",{className:"truncate",children:e.absentTeacherName})]})]}),b&&(0,t.jsxs)(n.$,{variant:"outline",size:"sm",className:"mt-auto w-full text-xs h-8",onClick:()=>b(e),children:["שבץ מחליף",(0,t.jsx)(i,{className:"mr-1 h-3 w-3"})]})]},"".concat(s,"-").concat(a)))})]},s)})})})]})}},63920:(e,s,a)=>{a.d(s,{A:()=>t});let t=(0,a(40157).A)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]])}}]);