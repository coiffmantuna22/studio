"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[737],{86737:(e,t,r)=>{r.r(t),r.d(t,{default:()=>y});var a=r(95155),s=r(12115),l=r(19599),d=r(35317),c=r(23769),n=r(66695),i=r(59434);let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",r),...s})})});m.displayName="Table";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",r),...s})});h.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});x.displayName="TableRow";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableHead";let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});f.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption";var j=r(50172);let N=(0,r(40157).A)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var b=r(83013),p=r(46375);function y(){let{user:e}=(0,l.useUser)(),t=(0,l.useFirestore)(),r=(0,l.useMemoFirebase)(()=>e&&t?(0,d.P)((0,d.rJ)(t,"substitutions"),(0,d._M)("userId","==",e.uid),(0,d.My)("createdAt","desc"),(0,d.AB)(100)):null,[e,t]),{data:i=[],isLoading:y}=(0,c.G)(r),w=(0,s.useMemo)(()=>{let e=new Date;return e.setDate(e.getDate()-30),(i||[]).filter(t=>new Date(t.date)>=e)},[i]);return y?(0,a.jsx)("div",{className:"flex justify-center p-8",children:(0,a.jsx)(j.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,a.jsxs)(n.Zp,{className:"mt-6 border-none shadow-none",children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N,{className:"h-6 w-6 text-primary"}),(0,a.jsx)(n.ZB,{children:"היסטוריית החלפות"})]}),(0,a.jsx)(n.BT,{children:"צפה בכל ההחלפות שבוצעו בחודש האחרון."})]}),(0,a.jsx)(n.Wu,{children:0===w.length?(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"לא נמצאו החלפות בחודש האחרון."}):(0,a.jsx)("div",{className:"rounded-md border",children:(0,a.jsxs)(m,{children:[(0,a.jsx)(h,{children:(0,a.jsxs)(x,{children:[(0,a.jsx)(u,{className:"text-right",children:"תאריך"}),(0,a.jsx)(u,{className:"text-right",children:"שעה"}),(0,a.jsx)(u,{className:"text-right",children:"כיתה"}),(0,a.jsx)(u,{className:"text-right",children:"מקצוע"}),(0,a.jsx)(u,{className:"text-right",children:"מורה חסר"}),(0,a.jsx)(u,{className:"text-right",children:"מורה מחליף"})]})}),(0,a.jsx)(o,{children:w.map(e=>(0,a.jsxs)(x,{children:[(0,a.jsx)(f,{children:(0,b.GP)(new Date(e.date),"dd/MM/yyyy",{locale:p.he})}),(0,a.jsx)(f,{children:e.time}),(0,a.jsx)(f,{children:e.className}),(0,a.jsx)(f,{children:e.subject}),(0,a.jsx)(f,{children:e.absentTeacherName}),(0,a.jsx)(f,{className:"font-medium text-primary",children:e.substituteTeacherName})]},e.id))})]})})})]})}}}]);